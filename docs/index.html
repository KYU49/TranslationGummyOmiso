<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <title>TranslationGummyOmiso/ブックマークレット登録用</title>
    <style type="text/css">
        <!--
            body{padding: 10px}
        -->
    </style>
</head>
<body>
    <div style="display:inline-block; padding: 20px; border: 1px solid #333333;">
        <p>「<a href="javascript:class%20Translator%7Bstatic%20id%3D0%3Bstatic%20list%3D%7B%7D%3Bstatic%20timer%3Dnull%3Bconstructor(p)%7Bthis.localhostEnable%3Dtrue%3Bthis.p%3Dp%3Bthis.id%3D-1%3Bthis.original%3Dp.innerHTML%3Bthis.hash%3Dthis.simpleHash(this.original)%3Bthis.translate%3D%22%E7%BF%BB%E8%A8%B3%E4%B8%AD%22%3Bthis.translated%3Dfalse%3Bthis.called%3Dfalse%3Bthis.init()%3B%7Dinit()%7Bthis.tranlatorId%3DTranslator.id%2B%2B%3BTranslator.list%5Bthis.tranlatorId%5D%3Dthis%3Bthis.p.setAttribute(%22translatorId%22%2CString(this.tranlatorId))%3Bif(this.tranlatorId%20%3C%205%20%7C%7C%20localStorage.getItem(this.hash)!%3Dnull)%7Bthis.sendTranslate()%3B%7D%7Dcallback(result)%7Bif(Translator.timer%20!%3Dnull)%7BclearTimeout(Translator.timer)%3BTranslator.timer%3Dnull%3B%7Dif(result.length%20%3E%200)%7Bthis.translate%3Dresult%3Bthis.translated%3Dfalse%3BlocalStorage.setItem(this.hash%2Cresult)%3Bthis.switch()%3B%7Delse%7Balert(%22DeepL%E3%81%AE%E7%BF%BB%E8%A8%B3%E4%B8%8A%E9%99%90%E3%81%AB%E9%81%94%E3%81%97%E3%81%9F%E5%8F%AF%E8%83%BD%E6%80%A7%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82%22)%3B%7D%7Dswitch()%7Bthis.sendTranslate()%3Bif(this.translated)%7Bthis.p.innerHTML%3Dthis.original%3B%7Delse%7Bthis.p.innerText%3Dthis.translate%3B%7Dthis.translated%3D!this.translated%3B%7DsendTranslate()%7Bif(this.called)%7Breturn%3B%7Dif(Translator.timer%3D%3Dnull)%7BTranslator.timer%3DsetTimeout(function()%7Balert(%22OmisoServer.ps1%E3%81%8C%E5%BF%9C%E7%AD%94%E3%81%97%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84%E5%8F%AF%E8%83%BD%E6%80%A7%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82%22)%3B%7D%2C30000)%3B%7Dlet%20savedValue%3DlocalStorage.getItem(this.hash)%3Bthis.called%3Dtrue%3Bif(savedValue%3D%3Dnull)%7Blet%20url%3Dthis.localhostEnable%3F%22http%3A%2F%2Flocalhost%3A8000%2F%3F%22%3A%22http%3A%2F%2F127.0.0.1%2FTemporary_Listen_Addresses%2F%3F%22%3Blet%20script%3Ddocument.createElement(%22script%22)%3Bscript.type%3D'text%2Fjavascript'%3Bscript.src%3Durl%20%2B%20encodeURIComponent(this.p.innerText).replace(%2F%252F%2Fg%2C%22%255C%252F%22)%2B%20%22%26%22%20%2B%20this.tranlatorId%3Bdocument.body.appendChild(script)%3B%7Delse%7Bthis.callback(savedValue)%3B%7D%7DsimpleHash(str)%7Blet%20hash%3D0%3Bfor(let%20i%3D0%3Bi%20%3C%20str.length%3Bi%2B%2B)%7Bconst%20char%3Dstr.charCodeAt(i)%3Bhash%3D(hash%20%3C%3C%205)-%20hash%20%2B%20char%3Bhash%20%26%3Dhash%3B%7Dreturn%20new%20Uint32Array(%5Bhash%5D)%5B0%5D.toString(36)%3B%7D%7Dlet%20capsule%3Dnew%20class%7Bconstructor()%7Bthis.init()%3B%7Dinit()%7Bwindow.button%3D%7Bover%3A%20null%2Ctarget%3A%20null%2Chover%3A%20function(e)%7Blet%20tempTarget%3Dbutton.getP(e.target)%3Bif(button.target%3D%3Dnull%20%7C%7C%20!button.target.isEqualNode(tempTarget))%7Bif(button.target%20!%3Dnull)%7Bbutton.reset()%3B%7Dif(button.over%3D%3Dnull)%7Bbutton.over%3Ddocument.createElement(%22div%22)%3Bbutton.over.appendChild(document.createTextNode(%22%F0%9F%94%84%22))%3Bbutton.over.style%3D%22cursor%3Apointer%3Bposition%3Afixed%3Bz-index%3A2147483647%3Bopacity%3A0.5%3B%22%3Bbutton.over.addEventListener(%22mouseup%22%2Cfunction(e)%7Blet%20id%3DNumber(button.target.getAttribute(%22translatorId%22))%3BTranslator.list%5Bid%5D.switch()%3B%7D)%3B%7Dbutton.target%3DtempTarget%3Blet%20tempId%3DNumber(button.target.getAttribute(%22translatorId%22))%3Blet%20tempTranslator%3DTranslator.list%5BtempId%5D%3BtempTranslator.sendTranslate()%3Bif((tempId%20%2B%201)in%20Translator.list)%7BTranslator.list%5BtempId%20%2B%201%5D.sendTranslate()%3B%7Ddocument.body.appendChild(button.over)%3Blet%20rect%3Dbutton.target.getBoundingClientRect()%3Blet%20overS%3Dbutton.over.style%3BoverS.right%3D(document.body.clientWidth%20-%20rect.right)%2B%22px%22%3BoverS.top%3Drect.top%2B%22px%22%3B%7D%7D%2Creset%3A%20function()%7Bif(button.over%20!%3Dnull%20%26%26%20button.over.parentNode)%7Bdocument.body.removeChild(button.over)%3B%7Dbutton.target%3Dnull%3Bbutton.state%3D1%3B%7D%2CgetP%3A%20function(p)%7Bif(p.tagName%3D%3D%22P%22%20%7C%7C%20p.tagName%3D%3D%22DIV%22)%7Breturn%20p%3B%7Delse%7Breturn%20button.getP(p.parentNode)%3B%7D%7D%7D%3Blet%20p%3Ddocument.getElementsByTagName(%22p%22)%3Bfor(let%20i%3D0%3Bi%20%3C%20p.length%3Bi%2B%2B)%7Bif(p%5Bi%5D.innerText.length%20%3E%20200)%7Blet%20t%3Dnew%20Translator(p%5Bi%5D)%3Bp%5Bi%5D.addEventListener(%22mouseover%22%2Cfunction(e)%7Bbutton.hover(e)%3B%7D)%3B%7D%7Dlet%20div%3Ddocument.getElementsByTagName(%22div%22)%3Bfor(let%20i%3D0%3Bi%20%3C%20div.length%3Bi%2B%2B)%7Bif(!div%5Bi%5D.getElementsByTagName(%22div%22)%26%26%20!div%5Bi%5D.getElementsByTagName(%22p%22)%26%26%20div%5Bi%5D.innerText.length%20%3E%20200)%7Blet%20t%3Dnew%20Translator(div%5Bi%5D)%3Bdiv%5Bi%5D.addEventListener(%22mouseover%22%2Cfunction(e)%7Bbutton.hover(e)%3B%7D)%3B%7D%7Dwindow.addEventListener(%22scroll%22%2Cfunction(e)%7Bbutton.reset()%3B%7D)%3B%7Dcallback(response)%7BTranslator.list%5Bresponse.translationId%5D.callback(response.result)%3B%7D%7D%3Bfunction%20callback(response)%7Bcapsule.callback(response)%3B%7Dvoid(0);">Omiso翻訳</a>」←のリンクを</p>
        <p>Firefoxの場合: 右クリックして、「リンクをブックマーク」</p>
        <p>Chrome/Edgeの場合: ブックマークバー(非表示なら、Ctrl+Shift+Bで表示)にドラッグ&amp;ドロップ</p>
    </div>
    <br />
    <p style="opacity:0.2;">セキュリティ的にlocalhostへの接続が制限されている場合は下記リンクを使用<br />
    「<a href="javascript:class%20Translator%7Bstatic%20id%3D0%3Bstatic%20list%3D%7B%7D%3Bstatic%20timer%3Dnull%3Bconstructor(p)%7Bthis.localhostEnable%3Dfalse%3Bthis.p%3Dp%3Bthis.id%3D-1%3Bthis.original%3Dp.innerHTML%3Bthis.hash%3Dthis.simpleHash(this.original)%3Bthis.translate%3D%22%E7%BF%BB%E8%A8%B3%E4%B8%AD%22%3Bthis.translated%3Dfalse%3Bthis.called%3Dfalse%3Bthis.init()%3B%7Dinit()%7Bthis.tranlatorId%3DTranslator.id%2B%2B%3BTranslator.list%5Bthis.tranlatorId%5D%3Dthis%3Bthis.p.setAttribute(%22translatorId%22%2CString(this.tranlatorId))%3Bif(this.tranlatorId%20%3C%205%20%7C%7C%20localStorage.getItem(this.hash)!%3Dnull)%7Bthis.sendTranslate()%3B%7D%7Dcallback(result)%7Bif(Translator.timer%20!%3Dnull)%7BclearTimeout(Translator.timer)%3BTranslator.timer%3Dnull%3B%7Dif(result.length%20%3E%200)%7Bthis.translate%3Dresult%3Bthis.translated%3Dfalse%3BlocalStorage.setItem(this.hash%2Cresult)%3Bthis.switch()%3B%7Delse%7Balert(%22DeepL%E3%81%AE%E7%BF%BB%E8%A8%B3%E4%B8%8A%E9%99%90%E3%81%AB%E9%81%94%E3%81%97%E3%81%9F%E5%8F%AF%E8%83%BD%E6%80%A7%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82%22)%3B%7D%7Dswitch()%7Bthis.sendTranslate()%3Bif(this.translated)%7Bthis.p.innerHTML%3Dthis.original%3B%7Delse%7Bthis.p.innerText%3Dthis.translate%3B%7Dthis.translated%3D!this.translated%3B%7DsendTranslate()%7Bif(this.called)%7Breturn%3B%7Dif(Translator.timer%3D%3Dnull)%7BTranslator.timer%3DsetTimeout(function()%7Balert(%22OmisoServer.ps1%E3%81%8C%E5%BF%9C%E7%AD%94%E3%81%97%E3%81%A6%E3%81%84%E3%81%AA%E3%81%84%E5%8F%AF%E8%83%BD%E6%80%A7%E3%81%8C%E3%81%82%E3%82%8A%E3%81%BE%E3%81%99%E3%80%82%22)%3B%7D%2C30000)%3B%7Dlet%20savedValue%3DlocalStorage.getItem(this.hash)%3Bthis.called%3Dtrue%3Bif(savedValue%3D%3Dnull)%7Blet%20url%3Dthis.localhostEnable%3F%22http%3A%2F%2Flocalhost%3A8000%2F%3F%22%3A%22http%3A%2F%2F127.0.0.1%2FTemporary_Listen_Addresses%2F%3F%22%3Blet%20script%3Ddocument.createElement(%22script%22)%3Bscript.type%3D'text%2Fjavascript'%3Bscript.src%3Durl%20%2B%20encodeURIComponent(this.p.innerText).replace(%2F%252F%2Fg%2C%22%255C%252F%22)%2B%20%22%26%22%20%2B%20this.tranlatorId%3Bdocument.body.appendChild(script)%3B%7Delse%7Bthis.callback(savedValue)%3B%7D%7DsimpleHash(str)%7Blet%20hash%3D0%3Bfor(let%20i%3D0%3Bi%20%3C%20str.length%3Bi%2B%2B)%7Bconst%20char%3Dstr.charCodeAt(i)%3Bhash%3D(hash%20%3C%3C%205)-%20hash%20%2B%20char%3Bhash%20%26%3Dhash%3B%7Dreturn%20new%20Uint32Array(%5Bhash%5D)%5B0%5D.toString(36)%3B%7D%7Dlet%20capsule%3Dnew%20class%7Bconstructor()%7Bthis.init()%3B%7Dinit()%7Bwindow.button%3D%7Bover%3A%20null%2Ctarget%3A%20null%2Chover%3A%20function(e)%7Blet%20tempTarget%3Dbutton.getP(e.target)%3Bif(button.target%3D%3Dnull%20%7C%7C%20!button.target.isEqualNode(tempTarget))%7Bif(button.target%20!%3Dnull)%7Bbutton.reset()%3B%7Dif(button.over%3D%3Dnull)%7Bbutton.over%3Ddocument.createElement(%22div%22)%3Bbutton.over.appendChild(document.createTextNode(%22%F0%9F%94%84%22))%3Bbutton.over.style%3D%22cursor%3Apointer%3Bposition%3Afixed%3Bz-index%3A2147483647%3Bopacity%3A0.5%3B%22%3Bbutton.over.addEventListener(%22mouseup%22%2Cfunction(e)%7Blet%20id%3DNumber(button.target.getAttribute(%22translatorId%22))%3BTranslator.list%5Bid%5D.switch()%3B%7D)%3B%7Dbutton.target%3DtempTarget%3Blet%20tempId%3DNumber(button.target.getAttribute(%22translatorId%22))%3Blet%20tempTranslator%3DTranslator.list%5BtempId%5D%3BtempTranslator.sendTranslate()%3Bif((tempId%20%2B%201)in%20Translator.list)%7BTranslator.list%5BtempId%20%2B%201%5D.sendTranslate()%3B%7Ddocument.body.appendChild(button.over)%3Blet%20rect%3Dbutton.target.getBoundingClientRect()%3Blet%20overS%3Dbutton.over.style%3BoverS.right%3D(document.body.clientWidth%20-%20rect.right)%2B%22px%22%3BoverS.top%3Drect.top%2B%22px%22%3B%7D%7D%2Creset%3A%20function()%7Bif(button.over%20!%3Dnull%20%26%26%20button.over.parentNode)%7Bdocument.body.removeChild(button.over)%3B%7Dbutton.target%3Dnull%3Bbutton.state%3D1%3B%7D%2CgetP%3A%20function(p)%7Bif(p.tagName%3D%3D%22P%22%20%7C%7C%20p.tagName%3D%3D%22DIV%22)%7Breturn%20p%3B%7Delse%7Breturn%20button.getP(p.parentNode)%3B%7D%7D%7D%3Blet%20p%3Ddocument.getElementsByTagName(%22p%22)%3Bfor(let%20i%3D0%3Bi%20%3C%20p.length%3Bi%2B%2B)%7Bif(p%5Bi%5D.innerText.length%20%3E%20200)%7Blet%20t%3Dnew%20Translator(p%5Bi%5D)%3Bp%5Bi%5D.addEventListener(%22mouseover%22%2Cfunction(e)%7Bbutton.hover(e)%3B%7D)%3B%7D%7Dlet%20div%3Ddocument.getElementsByTagName(%22div%22)%3Bfor(let%20i%3D0%3Bi%20%3C%20div.length%3Bi%2B%2B)%7Bif(!div%5Bi%5D.getElementsByTagName(%22div%22)%26%26%20!div%5Bi%5D.getElementsByTagName(%22p%22)%26%26%20div%5Bi%5D.innerText.length%20%3E%20200)%7Blet%20t%3Dnew%20Translator(div%5Bi%5D)%3Bdiv%5Bi%5D.addEventListener(%22mouseover%22%2Cfunction(e)%7Bbutton.hover(e)%3B%7D)%3B%7D%7Dwindow.addEventListener(%22scroll%22%2Cfunction(e)%7Bbutton.reset()%3B%7D)%3B%7Dcallback(response)%7BTranslator.list%5Bresponse.translationId%5D.callback(response.result)%3B%7D%7D%3Bfunction%20callback(response)%7Bcapsule.callback(response)%3B%7Dvoid(0);">Omiso翻訳</a>」(非localhost版)</p>
</body>
</html>